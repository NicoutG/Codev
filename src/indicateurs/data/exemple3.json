{
  "sujet": {
    "tables": ["etudiant", "diplome"],
    "conditions": {}
  },
  "colonnes": [
    {
      "type": "group_by",
      "titre": "Sexe",
      "expr": { "col": "sexe" }
    },
    {
      "type": "case",
      "titre": "Tranche d'âge",
      "cases": [
        { "label": "<18", "when": { "<": [ { "col": "age" }, 18 ] } },
        { "label": "18-25", "when": { "and": [ { ">=": [ { "col": "age" }, 18 ] }, { "<=": [ { "col": "age" }, 25 ] } ] } },
        { "label": ">25", "when": { ">": [ { "col": "age" }, 25 ] } }
      ]
    },
    {
      "type": "aggregation",
      "titre": "Nombre diplômés",
      "expr": 
          {
            "agg": "count",
            "condition": { "=": [ { "col": "obtenu" }, true ] }
          }
    },
    {
      "type": "aggregation",
      "titre": "Nombre étudiants",
      "expr":
          {
            "agg": "count",
            "condition": []
          }
    }
  ]
}
